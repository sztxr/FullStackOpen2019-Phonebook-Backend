(window.webpackJsonppart2=window.webpackJsonppart2||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(13),r=n.n(o),u=n(14),l=n(2),i=n(3),s=n.n(i),m="/api/contacts",f=function(){return s.a.get(m).then((function(e){return e.data}))},d=function(e){return s.a.post(m,e).then((function(e){return e.data}))},h=function(e){return s.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},b=function(e){var t=e.onSubmit,n=e.name,a=e.phone;return c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,"Name: ",c.a.createElement("input",{type:"text",value:n.value,name:"name",onChange:n.onChange}),c.a.createElement("br",null),"Phone: ",c.a.createElement("input",{type:"text",value:a.value,name:"phone",onChange:a.onChange})),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary",type:"submit"},"add")))},p=function(e){var t=e.value,n=e.onChange;return c.a.createElement("p",null,"Search: ",c.a.createElement("input",{value:t,onChange:n}))},v=function(e){var t=e.contact,n=e.deleteContact;return c.a.createElement("li",{className:"contact"},c.a.createElement("strong",null,t.name)," \u2013 ",t.phone,c.a.createElement("button",{className:"btn btn-secondary",onClick:n},"delete"))},E=function(e){var t=e.contacts,n=e.deleteContact;return c.a.createElement("ul",null,t.map((function(e){return c.a.createElement(v,{key:e.id,contact:e,deleteContact:function(){return n(e.id)}})})))},g=function(e){var t=e.notification,n={backgroundColor:"success"===t.type?"#58ae5a":"#b92834"};return null===t.message?null:c.a.createElement("div",{className:"notification",style:n},t.message)},C=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],m=i[1],v=Object(a.useState)(""),C=Object(l.a)(v,2),j=C[0],O=C[1],w=Object(a.useState)(""),S=Object(l.a)(w,2),y=S[0],k=S[1],N=Object(a.useState)({message:null}),x=Object(l.a)(N,2),D=x[0],J=x[1];Object(a.useEffect)((function(){f().then((function(e){o(e)}))}),[]);var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";J({message:e,type:t}),setTimeout((function(){J({message:null})}),5e3)},P=""===y?n:n.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));return c.a.createElement("div",null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(g,{notification:D}),c.a.createElement(p,{value:y,onChange:function(e){k(e.target.value)}}),c.a.createElement("h2",null,"Add a new contact"),c.a.createElement(b,{onSubmit:function(e){e.preventDefault(),d({name:s,phone:j}).then((function(e){o([].concat(Object(u.a)(n),[e])),m(""),O(""),L("Success: '".concat(s,"' has been added to the phone book'"),"success")})).catch((function(e){console.log(e.response.data),L("Error: ".concat(e.response.data.error),"error")}))},name:{value:s,onChange:function(e){m(e.target.value)}},phone:{value:j,onChange:function(e){O(e.target.value)}}}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(E,{contacts:P,deleteContact:function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.name,"?"))&&h(t.id).then((function(){o(n.filter((function(t){return t.id!==e}))),L("Success: '".concat(t.name,"' has been deleted from the phone book"),"success")})).catch((function(a){o(n.filter((function(t){return t.id!==e}))),L("Error: '".concat(t.name,"' does not exist"),"error")}))}}))};n(37);r.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.db41e41a.chunk.js.map